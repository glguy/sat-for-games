<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# Language GeneralizedNewtypeDeriving #-}</span><span>
</span><a name="line-2"></a><span class="hs-comment">{-|
Module      : Ersatz.Prelude
Description : Single module for providing Prelude and Ersatz
              definitions.
Copyright   : (c) Eric Mertens, 2018
License     : ISC
Maintainer  : emertens@gmail.com

This module makes it easier to use Ersatz by re&#235;xporting Prelude
without collisions with Ersatz, and by providing a distinct type
for building SAT problems instead of relying on MTL classes.

Define your problem using 'exists' and 'assert' and then invoke
the SAT solver on the resulting expression with 'solve'.

&gt;&gt;&gt; :{
solve $
  do x &lt;- existsBits 4
     y &lt;- existsBits 4
     assert (x + y === 16)
     assert (x * y === 55)
     assert (x &lt;=? y)
     return (x,y)
:}
Just (5,11)

-}</span><span>
</span><a name="line-29"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Ersatz.Prelude</span><span>
</span><a name="line-30"></a><span>  </span><span class="hs-special">(</span><span>
</span><a name="line-31"></a><span>  </span><span class="hs-comment">-- * modules</span><span>
</span><a name="line-32"></a><span>    </span><span class="hs-keyword">module</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.html"><span class="hs-identifier">Ersatz</span></a><span>
</span><a name="line-33"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Prelude.html"><span class="hs-identifier">Prelude</span></a><span>
</span><a name="line-34"></a><span>
</span><a name="line-35"></a><span>  </span><span class="hs-comment">-- * types</span><span>
</span><a name="line-36"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier hs-type">Ersatz</span></a><span>
</span><a name="line-37"></a><span>
</span><a name="line-38"></a><span>  </span><span class="hs-comment">-- * operations</span><span>
</span><a name="line-39"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Ersatz.Prelude.html#exists"><span class="hs-identifier hs-var">exists</span></a><span>
</span><a name="line-40"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Ersatz.Prelude.html#assert"><span class="hs-identifier hs-var">assert</span></a><span>
</span><a name="line-41"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Ersatz.Prelude.html#solve"><span class="hs-identifier hs-var">solve</span></a><span>
</span><a name="line-42"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Ersatz.Prelude.html#runErsatz"><span class="hs-identifier hs-var">runErsatz</span></a><span>
</span><a name="line-43"></a><span>
</span><a name="line-44"></a><span>  </span><span class="hs-comment">-- * variable-width number operations</span><span>
</span><a name="line-45"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Ersatz.Prelude.html#existsBits"><span class="hs-identifier hs-var">existsBits</span></a><span>
</span><a name="line-46"></a><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-47"></a><span>
</span><a name="line-48"></a><span class="hs-comment">-- base</span><span>
</span><a name="line-49"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Prelude.html"><span class="hs-identifier">Prelude</span></a><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Data.Foldable.html#and"><span class="hs-identifier hs-var">and</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Data.Foldable.html#or"><span class="hs-identifier hs-var">or</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Data.Foldable.html#all"><span class="hs-identifier hs-var">all</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a><span class="hs-special">)</span><span>
</span><a name="line-50"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Control.Monad.html#replicateM"><span class="hs-identifier hs-var">replicateM</span></a><span class="hs-special">)</span><span>
</span><a name="line-51"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Control.Monad.IO.Class.html"><span class="hs-identifier">Control.Monad.IO.Class</span></a><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a><span class="hs-special">)</span><span>
</span><a name="line-52"></a><span>
</span><a name="line-53"></a><span class="hs-comment">-- ersatz</span><span>
</span><a name="line-54"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.html"><span class="hs-identifier">Ersatz</span></a><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bit.html#Boolean"><span class="hs-identifier hs-type">Boolean</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Equatable.html#Equatable"><span class="hs-identifier hs-type">Equatable</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Orderable.html#Orderable"><span class="hs-identifier hs-type">Orderable</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-55"></a><span>                         </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bit.html#Bit"><span class="hs-identifier hs-type">Bit</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bit1"><span class="hs-identifier hs-type">Bit1</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bit2"><span class="hs-identifier hs-type">Bit2</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bit3"><span class="hs-identifier hs-type">Bit3</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bit4"><span class="hs-identifier hs-type">Bit4</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bit5"><span class="hs-identifier hs-type">Bit5</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bit6"><span class="hs-identifier hs-type">Bit6</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bit7"><span class="hs-identifier hs-type">Bit7</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bit8"><span class="hs-identifier hs-type">Bit8</span></a><span class="hs-special">,</span><span>
</span><a name="line-56"></a><span>                         </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-57"></a><span>                         </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Problem.html#SAT"><span class="hs-identifier hs-type">SAT</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Variable.html#Variable"><span class="hs-identifier hs-type">Variable</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Codec.html#Codec"><span class="hs-identifier hs-type">Codec</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-58"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.html"><span class="hs-identifier">Ersatz</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">E</span><span>
</span><a name="line-59"></a><span>
</span><a name="line-60"></a><span class="hs-comment">-- transformers</span><span>
</span><a name="line-61"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/transformers-0.5.5.0/src/Control.Monad.Trans.State.html"><span class="hs-identifier">Control.Monad.Trans.State</span></a><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/transformers-0.5.5.0/src/Control.Monad.Trans.State.Lazy.html#StateT"><span class="hs-identifier hs-type">StateT</span></a><span class="hs-special">)</span><span>
</span><a name="line-62"></a><span>
</span><a name="line-63"></a><span>
</span><a name="line-64"></a><span class="hs-comment">-- | Computations that can quantify new variables, generate assertions,</span><span>
</span><a name="line-65"></a><span class="hs-comment">-- and return results.</span><span>
</span><a name="line-66"></a><span class="hs-keyword">newtype</span><span> </span><a name="Ersatz"><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier">Ersatz</span></a></a><span> </span><a name="local-6989586621679046349"><a href="#local-6989586621679046349"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Ersatz"><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier">Ersatz</span></a></a><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/transformers-0.5.5.0/src/Control.Monad.Trans.State.Lazy.html#StateT"><span class="hs-identifier hs-type">StateT</span></a><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Problem.html#SAT"><span class="hs-identifier hs-type">SAT</span></a><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><a href="#local-6989586621679046349"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-67"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a><span class="hs-special">)</span><span>
</span><a name="line-68"></a><span>
</span><a name="line-69"></a><span>
</span><a name="line-70"></a><span class="hs-comment">-- | Generates a fresh, existentially quantified variable.</span><span>
</span><a name="line-71"></a><span class="hs-comment">--</span><span>
</span><a name="line-72"></a><span class="hs-comment">-- Specialization of 'E.exists'</span><span>
</span><a name="line-73"></a><span class="hs-identifier">exists</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Variable.html#Variable"><span class="hs-identifier hs-type">Variable</span></a><span> </span><a href="#local-6989586621679048337"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier hs-type">Ersatz</span></a><span> </span><a href="#local-6989586621679048337"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-74"></a><a name="exists"><a href="Ersatz.Prelude.html#exists"><span class="hs-identifier">exists</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier hs-var">Ersatz</span></a><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Variable.html#exists"><span class="hs-identifier hs-var">E.exists</span></a><span>
</span><a name="line-75"></a><span>
</span><a name="line-76"></a><span>
</span><a name="line-77"></a><span class="hs-comment">-- | Add a new assertion to be satisfied by the solver.</span><span>
</span><a name="line-78"></a><span class="hs-comment">--</span><span>
</span><a name="line-79"></a><span class="hs-comment">-- Specialization of 'E.assert'</span><span>
</span><a name="line-80"></a><span class="hs-identifier">assert</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bit.html#Bit"><span class="hs-identifier hs-type">Bit</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier hs-type">Ersatz</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-81"></a><a name="assert"><a href="Ersatz.Prelude.html#assert"><span class="hs-identifier">assert</span></a></a><span> </span><a name="local-6989586621679048420"><a href="#local-6989586621679048420"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier hs-var">Ersatz</span></a><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bit.html#assert"><span class="hs-identifier hs-var">E.assert</span></a><span> </span><a href="#local-6989586621679048420"><span class="hs-identifier hs-var">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-82"></a><span>
</span><a name="line-83"></a><span>
</span><a name="line-84"></a><span class="hs-comment">-- | Given an Ersatz problem value, compute a model that</span><span>
</span><a name="line-85"></a><span class="hs-comment">-- satisfies all of the assertions and return the decoded</span><span>
</span><a name="line-86"></a><span class="hs-comment">-- result, or return 'Nothing' to indicate that no model</span><span>
</span><a name="line-87"></a><span class="hs-comment">-- is possible.</span><span>
</span><a name="line-88"></a><span class="hs-comment">--</span><span>
</span><a name="line-89"></a><span class="hs-comment">-- Specialization of 'E.solveWith'</span><span>
</span><a name="line-90"></a><span class="hs-identifier">solve</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Codec.html#Codec"><span class="hs-identifier hs-type">Codec</span></a><span> </span><a href="#local-6989586621679048088"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier hs-type">Ersatz</span></a><span> </span><a href="#local-6989586621679048088"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Codec.html#Decoded"><span class="hs-identifier hs-type">Decoded</span></a><span> </span><a href="#local-6989586621679048088"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-91"></a><a name="solve"><a href="Ersatz.Prelude.html#solve"><span class="hs-identifier">solve</span></a></a><span> </span><span class="hs-special">(</span><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier hs-var">Ersatz</span></a><span> </span><a name="local-6989586621679048421"><a href="#local-6989586621679048421"><span class="hs-identifier">problem</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-92"></a><span>  </span><span class="hs-keyword">do</span><span> </span><a name="local-6989586621679048460"><a href="#local-6989586621679048460"><span class="hs-identifier">result</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Solver.html#solveWith"><span class="hs-identifier hs-var">E.solveWith</span></a><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Solver.Minisat.html#minisat"><span class="hs-identifier hs-var">E.minisat</span></a><span> </span><a href="#local-6989586621679048421"><span class="hs-identifier hs-var">problem</span></a><span>
</span><a name="line-93"></a><span>     </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679048460"><span class="hs-identifier hs-var">result</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-94"></a><span>       </span><span class="hs-special">(</span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Solution.html#Satisfied"><span class="hs-identifier hs-var">E.Satisfied</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679048679"><a href="#local-6989586621679048679"><span class="hs-identifier">solution</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><span class="hs-special">(</span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a href="#local-6989586621679048679"><span class="hs-identifier hs-var">solution</span></a><span class="hs-special">)</span><span>
</span><a name="line-95"></a><span>       </span><span class="hs-special">(</span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Solution.html#Unsatisfied"><span class="hs-identifier hs-var">E.Unsatisfied</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span>          </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-96"></a><span>       </span><span class="hs-identifier">_</span><span>                            </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/GHC.Base.html#fail"><span class="hs-identifier hs-var">fail</span></a><span> </span><span class="hs-string">&quot;solve: PANIC&quot;</span><span>
</span><a name="line-97"></a><span>
</span><a name="line-98"></a><span>
</span><a name="line-99"></a><span class="hs-comment">-- | Generate a fresh number with a given number of bits.</span><span>
</span><a name="line-100"></a><span class="hs-identifier">existsBits</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-comment">{- ^ bits -}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier hs-type">Ersatz</span></a><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span>
</span><a name="line-101"></a><a name="existsBits"><a href="Ersatz.Prelude.html#existsBits"><span class="hs-identifier">existsBits</span></a></a><span> </span><a name="local-6989586621679048680"><a href="#local-6989586621679048680"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Bits.html#Bits"><span class="hs-identifier hs-var">Bits</span></a><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src/Control.Monad.html#replicateM"><span class="hs-identifier hs-var">replicateM</span></a><span> </span><a href="#local-6989586621679048680"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="Ersatz.Prelude.html#exists"><span class="hs-identifier hs-var">exists</span></a><span>
</span><a name="line-102"></a><span>
</span><a name="line-103"></a><span>
</span><a name="line-104"></a><span class="hs-comment">-- | Unwrap an Ersatz problem value computing the returned</span><span>
</span><a name="line-105"></a><span class="hs-comment">-- value and SAT expression. While this can be instructive,</span><span>
</span><a name="line-106"></a><span class="hs-comment">-- it is more common and useful to use 'solve'.</span><span>
</span><a name="line-107"></a><span class="hs-identifier">runErsatz</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier hs-type">Ersatz</span></a><span> </span><a href="#local-6989586621679046826"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679046826"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Problem.html#SAT"><span class="hs-identifier hs-type">SAT</span></a><span class="hs-special">)</span><span>
</span><a name="line-108"></a><a name="runErsatz"><a href="Ersatz.Prelude.html#runErsatz"><span class="hs-identifier">runErsatz</span></a></a><span> </span><span class="hs-special">(</span><a href="Ersatz.Prelude.html#Ersatz"><span class="hs-identifier hs-var">Ersatz</span></a><span> </span><a name="local-6989586621679048695"><a href="#local-6989586621679048695"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/rstz-0.4.4-b4c0a41d/share/doc/html/src/Ersatz.Problem.html#runSAT"><span class="hs-identifier hs-var">E.runSAT</span></a><span> </span><a href="#local-6989586621679048695"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-109"></a></pre></body></html>