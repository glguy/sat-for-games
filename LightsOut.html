<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>LightsOut</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/LightsOut.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">sat-for-games-0.1.0.0: Introduction to using SAT to solve games</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Eric Mertens 2018</td></tr><tr><th>License</th><td>ISC</td></tr><tr><th>Maintainer</th><td>emertens@gmail.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">LightsOut</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p><a href="https://en.wikipedia.org/wiki/Lights_Out_(game)">https://en.wikipedia.org/wiki/Lights_Out_(game)</a></p><p>This module implements a solver for the Lights Out game. The solver
works by encoding the lights out problem in terms of boolean satisfiability
using the Ersatz library.</p><p>This module does not attempt to produce a solution with the minimal number
of button presses. This enhancement is left as an exercise for the reader!</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:LightsOut">LightsOut</a> = <a href="#v:LightsOut">LightsOut</a> {<ul class="subs"><li><a href="#v:dimensions">dimensions</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a></li><li><a href="#v:lightsOn">lightsOn</a> :: <a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/cntnrs-0.5.11.0-4aabb02b/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a></li></ul>}</li><li class="src short"><a href="#v:exampleLightsOut">exampleLightsOut</a> :: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a></li><li class="src short"><a href="#v:smallLightsOut">smallLightsOut</a> :: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a></li><li class="src short"><a href="#v:unsolvableLightsOut">unsolvableLightsOut</a> :: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Coord">Coord</a> = <a href="#v:C">C</a> <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a> <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a></li><li class="src short"><a href="#v:neighborhood">neighborhood</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; [<a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a>]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Dim">Dim</a> = <a href="#v:Dim">Dim</a> <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a> <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a></li><li class="src short"><a href="#v:dimCoords">dimCoords</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; [<a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a>]</li><li class="src short"><a href="#v:existsSolution">existsSolution</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:Ersatz" title="Ersatz.Prelude">Ersatz</a> (<a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/cntnrs-0.5.11.0-4aabb02b/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="Ersatz-Prelude.html#t:Bit" title="Ersatz.Prelude">Bit</a>)</li><li class="src short"><a href="#v:isValidSolution">isValidSolution</a> :: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a> -&gt; <a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/cntnrs-0.5.11.0-4aabb02b/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="Ersatz-Prelude.html#t:Bit" title="Ersatz.Prelude">Bit</a> -&gt; <a href="Ersatz-Prelude.html#t:Bit" title="Ersatz.Prelude">Bit</a></li><li class="src short"><a href="#v:findSolution">findSolution</a> :: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a> -&gt; <a href="Ersatz-Prelude.html#t:IO" title="Ersatz.Prelude">IO</a> (<a href="Ersatz-Prelude.html#t:Maybe" title="Ersatz.Prelude">Maybe</a> (<a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/cntnrs-0.5.11.0-4aabb02b/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a>))</li><li class="src short"><a href="#v:lightsOut">lightsOut</a> :: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a> -&gt; <a href="Ersatz-Prelude.html#t:IO" title="Ersatz.Prelude">IO</a> ()</li><li class="src short"><a href="#v:parsePuzzle">parsePuzzle</a> :: <a href="Ersatz-Prelude.html#t:String" title="Ersatz.Prelude">String</a> -&gt; <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a></li><li class="src short"><a href="#v:renderSolution">renderSolution</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/cntnrs-0.5.11.0-4aabb02b/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> -&gt; <a href="Ersatz-Prelude.html#t:String" title="Ersatz.Prelude">String</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LightsOut" class="def">LightsOut</a> <a href="src/LightsOut.html#LightsOut" class="link">Source</a> <a href="#t:LightsOut" class="selflink">#</a></p><div class="doc"><p>Specification of a Lights Out puzzle</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LightsOut" class="def">LightsOut</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dimensions" class="def">dimensions</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:lightsOn" class="def">lightsOn</a> :: <a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/cntnrs-0.5.11.0-4aabb02b/share/doc/html/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:LightsOut" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LightsOut:Show:1"></span> <a href="Ersatz-Prelude.html#t:Show" title="Ersatz.Prelude">Show</a> <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a></span> <a href="src/LightsOut.html#line-38" class="link">Source</a> <a href="#t:LightsOut" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LightsOut:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="LightsOut.html">LightsOut</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a> -&gt; <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a> -&gt; <a href="Ersatz-Prelude.html#t:ShowS" title="Ersatz.Prelude">ShowS</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a> -&gt; <a href="Ersatz-Prelude.html#t:String" title="Ersatz.Prelude">String</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a>] -&gt; <a href="Ersatz-Prelude.html#t:ShowS" title="Ersatz.Prelude">ShowS</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:exampleLightsOut" class="def">exampleLightsOut</a> :: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a> <a href="src/LightsOut.html#exampleLightsOut" class="link">Source</a> <a href="#v:exampleLightsOut" class="selflink">#</a></p><div class="doc"><p>Example puzzle that spells ICFP.</p></div></div><div class="top"><p class="src"><a id="v:smallLightsOut" class="def">smallLightsOut</a> :: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a> <a href="src/LightsOut.html#smallLightsOut" class="link">Source</a> <a href="#v:smallLightsOut" class="selflink">#</a></p><div class="doc"><p>Small 3-by-3 puzzle</p></div></div><div class="top"><p class="src"><a id="v:unsolvableLightsOut" class="def">unsolvableLightsOut</a> :: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a> <a href="src/LightsOut.html#unsolvableLightsOut" class="link">Source</a> <a href="#v:unsolvableLightsOut" class="selflink">#</a></p><div class="doc"><p>Example of a puzzle that has no solution.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Coord" class="def">Coord</a> <a href="src/LightsOut.html#Coord" class="link">Source</a> <a href="#t:Coord" class="selflink">#</a></p><div class="doc"><p>Grid coordinate</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:C" class="def">C</a> <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a> <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a></td><td class="doc"><p>column row</p></td></tr></table></div><div class="subs instances"><details id="i:Coord" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Coord:Eq:1"></span> <a href="Ersatz-Prelude.html#t:Eq" title="Ersatz.Prelude">Eq</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a></span> <a href="src/LightsOut.html#line-69" class="link">Source</a> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Coord:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="LightsOut.html">LightsOut</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Coord:Ord:2"></span> <a href="Ersatz-Prelude.html#t:Ord" title="Ersatz.Prelude">Ord</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a></span> <a href="src/LightsOut.html#line-69" class="link">Source</a> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Coord:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="LightsOut.html">LightsOut</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="Ersatz-Prelude.html#t:Ordering" title="Ersatz.Prelude">Ordering</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Coord:Read:3"></span> <a href="Ersatz-Prelude.html#t:Read" title="Ersatz.Prelude">Read</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a></span> <a href="src/LightsOut.html#line-69" class="link">Source</a> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Coord:Read:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="LightsOut.html">LightsOut</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a> -&gt; <a href="Ersatz-Prelude.html#t:ReadS" title="Ersatz.Prelude">ReadS</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:readsPrec" class="selflink">#</a></p><p class="src"><a href="#v:readList">readList</a> :: <a href="Ersatz-Prelude.html#t:ReadS" title="Ersatz.Prelude">ReadS</a> [<a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a>] <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:readList" class="selflink">#</a></p><p class="src"><a href="#v:readPrec">readPrec</a> :: <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:readPrec" class="selflink">#</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> [<a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a>] <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:readListPrec" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Coord:Show:4"></span> <a href="Ersatz-Prelude.html#t:Show" title="Ersatz.Prelude">Show</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a></span> <a href="src/LightsOut.html#line-69" class="link">Source</a> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Coord:Show:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="LightsOut.html">LightsOut</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a> -&gt; <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="Ersatz-Prelude.html#t:ShowS" title="Ersatz.Prelude">ShowS</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> -&gt; <a href="Ersatz-Prelude.html#t:String" title="Ersatz.Prelude">String</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a>] -&gt; <a href="Ersatz-Prelude.html#t:ShowS" title="Ersatz.Prelude">ShowS</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:neighborhood" class="def">neighborhood</a> <a href="src/LightsOut.html#neighborhood" class="link">Source</a> <a href="#v:neighborhood" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a></td><td class="doc"><p>coordinate                     </p></td></tr><tr><td class="src">-&gt; [<a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a>]</td><td class="doc"><p>north, west, self, east, south </p></td></tr></table></div><div class="doc"><p>Cardinal direction neighborhood for a coordinate. Results include
 the given coordinate.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>neighborhood (C 2 3)
</code></strong>[C 2 2,C 1 3,C 2 3,C 3 3,C 2 4]
</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Dim" class="def">Dim</a> <a href="src/LightsOut.html#Dim" class="link">Source</a> <a href="#t:Dim" class="selflink">#</a></p><div class="doc"><p>Board dimensions</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Dim" class="def">Dim</a> <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a> <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a></td><td class="doc"><p>width height</p></td></tr></table></div><div class="subs instances"><details id="i:Dim" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Dim:Eq:1"></span> <a href="Ersatz-Prelude.html#t:Eq" title="Ersatz.Prelude">Eq</a> <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a></span> <a href="src/LightsOut.html#line-88" class="link">Source</a> <a href="#t:Dim" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Dim:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="LightsOut.html">LightsOut</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Dim:Ord:2"></span> <a href="Ersatz-Prelude.html#t:Ord" title="Ersatz.Prelude">Ord</a> <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a></span> <a href="src/LightsOut.html#line-88" class="link">Source</a> <a href="#t:Dim" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Dim:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="LightsOut.html">LightsOut</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:Ordering" title="Ersatz.Prelude">Ordering</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/ghc-prim-0.5.3/src" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Dim:Read:3"></span> <a href="Ersatz-Prelude.html#t:Read" title="Ersatz.Prelude">Read</a> <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a></span> <a href="src/LightsOut.html#line-88" class="link">Source</a> <a href="#t:Dim" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Dim:Read:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="LightsOut.html">LightsOut</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a> -&gt; <a href="Ersatz-Prelude.html#t:ReadS" title="Ersatz.Prelude">ReadS</a> <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:readsPrec" class="selflink">#</a></p><p class="src"><a href="#v:readList">readList</a> :: <a href="Ersatz-Prelude.html#t:ReadS" title="Ersatz.Prelude">ReadS</a> [<a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a>] <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:readList" class="selflink">#</a></p><p class="src"><a href="#v:readPrec">readPrec</a> :: <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:readPrec" class="selflink">#</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> [<a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a>] <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:readListPrec" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Dim:Show:4"></span> <a href="Ersatz-Prelude.html#t:Show" title="Ersatz.Prelude">Show</a> <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a></span> <a href="src/LightsOut.html#line-88" class="link">Source</a> <a href="#t:Dim" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Dim:Show:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="LightsOut.html">LightsOut</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="Ersatz-Prelude.html#t:Int" title="Ersatz.Prelude">Int</a> -&gt; <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:ShowS" title="Ersatz.Prelude">ShowS</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:String" title="Ersatz.Prelude">String</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a>] -&gt; <a href="Ersatz-Prelude.html#t:ShowS" title="Ersatz.Prelude">ShowS</a> <a href="file:///Users/emertens/Tools/ghc-8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:dimCoords" class="def">dimCoords</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; [<a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a>] <a href="src/LightsOut.html#dimCoords" class="link">Source</a> <a href="#v:dimCoords" class="selflink">#</a></p><div class="doc"><p>Generate a list of all coordinates in a board of the given size.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>dimCoords (Dim 3 2)
</code></strong>[C 1 1,C 1 2,C 2 1,C 2 2,C 3 1,C 3 2]
</pre></div></div><div class="top"><p class="src"><a id="v:existsSolution" class="def">existsSolution</a> :: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a> -&gt; <a href="Ersatz-Prelude.html#t:Ersatz" title="Ersatz.Prelude">Ersatz</a> (<a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/cntnrs-0.5.11.0-4aabb02b/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="Ersatz-Prelude.html#t:Bit" title="Ersatz.Prelude">Bit</a>) <a href="src/LightsOut.html#existsSolution" class="link">Source</a> <a href="#v:existsSolution" class="selflink">#</a></p><div class="doc"><p>Generate a map associating coordinates that can be toggled with
 whether or not that coordinate was toggled.</p></div></div><div class="top"><p class="src"><a id="v:isValidSolution" class="def">isValidSolution</a> <a href="src/LightsOut.html#isValidSolution" class="link">Source</a> <a href="#v:isValidSolution" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a></td><td class="doc"><p>puzzle              </p></td></tr><tr><td class="src">-&gt; <a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/cntnrs-0.5.11.0-4aabb02b/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="Ersatz-Prelude.html#t:Bit" title="Ersatz.Prelude">Bit</a></td><td class="doc"><p>clicked coordinates </p></td></tr><tr><td class="src">-&gt; <a href="Ersatz-Prelude.html#t:Bit" title="Ersatz.Prelude">Bit</a></td><td class="doc"><p>solution is valid   </p></td></tr></table></div><div class="doc"><p>Predicate for determining if a set of toggles results in all
 lights being turned off. A clicked coordinate corresponds to an
 entry in the given map with a <code><a href="Ersatz-Prelude.html#v:true" title="Ersatz.Prelude">true</a></code> value.</p></div></div><div class="top"><p class="src"><a id="v:findSolution" class="def">findSolution</a> <a href="src/LightsOut.html#findSolution" class="link">Source</a> <a href="#v:findSolution" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a></td><td class="doc"><p>puzzle                 </p></td></tr><tr><td class="src">-&gt; <a href="Ersatz-Prelude.html#t:IO" title="Ersatz.Prelude">IO</a> (<a href="Ersatz-Prelude.html#t:Maybe" title="Ersatz.Prelude">Maybe</a> (<a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/cntnrs-0.5.11.0-4aabb02b/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a>))</td><td class="doc"><p>solution if one exists </p></td></tr></table></div><div class="doc"><p>Find a solution to the given puzzle that also satisfies
 an additional predicate if one exists.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>findSolution smallLightsOut
</code></strong>Just (fromList [(C 1 1,True),(C 1 2,False),(C 1 3,False),(C 2 1,False),(C 2 2,False),(C 2 3,False),(C 3 1,False),(C 3 2,False),(C 3 3,True)])
</pre></div></div><div class="top"><p class="src"><a id="v:lightsOut" class="def">lightsOut</a> <a href="src/LightsOut.html#lightsOut" class="link">Source</a> <a href="#v:lightsOut" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a></td><td class="doc"><p>puzzle                   </p></td></tr><tr><td class="src">-&gt; <a href="Ersatz-Prelude.html#t:IO" title="Ersatz.Prelude">IO</a> ()</td><td class="doc"><p>print solution to puzzle </p></td></tr></table></div><div class="doc"><p>Attempt to solve the given puzzle and print the solution to stdout.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>lightsOut smallLightsOut
</code></strong>*..
...
..*
</pre></div></div><div class="top"><p class="src"><a id="v:parsePuzzle" class="def">parsePuzzle</a> :: <a href="Ersatz-Prelude.html#t:String" title="Ersatz.Prelude">String</a> -&gt; <a href="LightsOut.html#t:LightsOut" title="LightsOut">LightsOut</a> <a href="src/LightsOut.html#parsePuzzle" class="link">Source</a> <a href="#v:parsePuzzle" class="selflink">#</a></p><div class="doc"><p>Parse a lights out puzzle encoded as lines of <code>.</code> for off and
 <code>*</code> for on.</p><p>Example input</p><pre>*.*.
.*..
...*
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parsePuzzle &quot;*.*.\n.*..\n...*\n&quot;
</code></strong>LightsOut {dimensions = Dim 4 3, lightsOn = fromList [C 1 1,C 2 2,C 3 1,C 4 3]}
</pre></div></div><div class="top"><p class="src"><a id="v:renderSolution" class="def">renderSolution</a> <a href="src/LightsOut.html#renderSolution" class="link">Source</a> <a href="#v:renderSolution" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LightsOut.html#t:Dim" title="LightsOut">Dim</a></td><td class="doc"><p>board dimensions  </p></td></tr><tr><td class="src">-&gt; <a href="file:///Users/emertens/.cabal/store/ghc-8.6.1/cntnrs-0.5.11.0-4aabb02b/share/doc/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="LightsOut.html#t:Coord" title="LightsOut">Coord</a> <a href="Ersatz-Prelude.html#t:Bool" title="Ersatz.Prelude">Bool</a></td><td class="doc"><p>solution map      </p></td></tr><tr><td class="src">-&gt; <a href="Ersatz-Prelude.html#t:String" title="Ersatz.Prelude">String</a></td><td class="doc"><p>rendered solution </p></td></tr></table></div><div class="doc"><p>Render a lights out puzzle using <code>.</code> and <code>*</code> as in <code><a href="LightsOut.html#v:parsePuzzle" title="LightsOut">parsePuzzle</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>